# üî• –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –û–¢–ó–´–í–û–í

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
- –û—à–∏–±–∫–∞ "Error inserting review" –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–∑—ã–≤–∞
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ 1 –∫—Ä–µ–¥–∏—Ç–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard** ‚Üí **SQL Editor**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–ï–°–¨** –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞:
   ```
   supabase/FIX_REVIEWS_NOW.sql
   ```
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
4. –ù–∞–∂–º–∏—Ç–µ **RUN** (–∏–ª–∏ F5)

‚úÖ –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
‚úÖ –¢–∞–±–ª–∏—Ü–∞ reviews —Å–æ–∑–¥–∞–Ω–∞
‚úÖ –ü–æ–ª–µ review_modal_shown –¥–æ–±–∞–≤–ª–µ–Ω–æ
‚úÖ RPC —Ñ—É–Ω–∫—Ü–∏—è award_review_bonus —Å–æ–∑–¥–∞–Ω–∞
üéâ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
```

---

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å Secrets

**Supabase Dashboard** ‚Üí **Functions** ‚Üí **submit-review** ‚Üí **Settings** ‚Üí **Secrets**

–î–æ–±–∞–≤—å—Ç–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç):
```
VITE_N8N_WEBHOOK_URL_REVIEWS = (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞)
VITE_N8N_SECRET_TOKEN_REVIEWS = (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞)
```

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

#### –¢–µ—Å—Ç 1: –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080/review`
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥ (1-5 –∑–≤–µ–∑–¥)
3. –ù–∞–ø–∏—à–∏—Ç–µ –æ—Ç–∑—ã–≤ (–º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤)
4. –ù–∞–∂–º–∏—Ç–µ **Submit Review** (–∂–µ–ª—Ç–∞—è –∫–Ω–æ–ø–∫–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—Ç–∑—ã–≤ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è
- ‚úÖ –í—ã –ø–æ–ª—É—á–∏—Ç–µ +3 –∫—Ä–µ–¥–∏—Ç–∞
- ‚úÖ Success —Å–æ–æ–±—â–µ–Ω–∏–µ

#### –¢–µ—Å—Ç 2: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ–±–µ 1 –∫—Ä–µ–¥–∏—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ `your-user-id` –Ω–∞ –≤–∞—à):
```sql
UPDATE user_credits 
SET free_credits = 1, 
    paid_credits = 0,
    review_modal_shown = FALSE
WHERE user_id = 'your-user-id';
```

–ó–∞—Ç–µ–º:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é `http://localhost:8080`
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2 —Å–µ–∫—É–Ω–¥—ã
3. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è!** üéâ

---

## üêõ –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø—Ä–æ–±–ª–µ–º–∞

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Edge Function
**Supabase Dashboard** ‚Üí **Functions** ‚Üí **submit-review** ‚Üí **Logs**

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

**"relation 'reviews' does not exist"**
- –®–∞–≥ 1 –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω
- –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `supabase/FIX_REVIEWS_NOW.sql`

**"column review_modal_shown does not exist"**
- –®–∞–≥ 1 –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `supabase/FIX_REVIEWS_NOW.sql` —Å–Ω–æ–≤–∞

**"function award_review_bonus does not exist"**
- –®–∞–≥ 1 –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `supabase/FIX_REVIEWS_NOW.sql` —Å–Ω–æ–≤–∞

**"duplicate key value violates unique constraint"**
- –í—ã —É–∂–µ –æ—Å—Ç–∞–≤–∏–ª–∏ –æ—Ç–∑—ã–≤
- –†–µ—à–µ–Ω–∏–µ: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–∏–Ω –æ—Ç–∑—ã–≤

---

## üìù –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ

1. ‚úÖ **–ñ–µ–ª—Ç–∞—è –∫–Ω–æ–ø–∫–∞ Submit** - –¥–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∏–ª—å `bg-yellow-500 hover:bg-yellow-600`
2. ‚úÖ **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `ReviewBonusModal` –≤ `Index.tsx`
3. ‚úÖ **–§—É—Ç–µ—Ä –≤ Dashboard** - –¥–æ–±–∞–≤–ª–µ–Ω `Footer` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
4. ‚úÖ **SQL —Å–∫—Ä–∏–ø—Ç** - —Å–æ–∑–¥–∞–Ω `FIX_REVIEWS_NOW.sql` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –û—Ç–∑—ã–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ë–æ–Ω—É—Å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ 1 –∫—Ä–µ–¥–∏—Ç–µ
- ‚úÖ –§—É—Ç–µ—Ä –≤–∏–¥–µ–Ω –≤ Dashboard
